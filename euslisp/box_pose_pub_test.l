#!/usr/bin/env roseus

(load "package://hrpsys_ros_bridge_tutorials/euslisp/samplerobot-interface.l")
(ros::roseus-add-msgs "hrpsys_ros_bridge")

(ros::roseus "talker")
(ros::advertise "box_pose" hrpsys_ros_bridge::BoxPoses 1)
(ros::rate 10)
(while (ros::ok)
  (setq msg1 (instance hrpsys_ros_bridge::BoxPose :init))
  (send msg1 :px 0)
  (send msg1 :py 0)
  (send msg1 :pz 0)
  (send msg1 :rx 1)
  (send msg1 :ry 0)
  (send msg1 :rz 0)
  (send msg1 :rw 0.4)
  (send msg1 :id 0)
  (ros::ros-info "msg [~A]" (send msg1 :px))
  
  (setq msg2 (instance hrpsys_ros_bridge::BoxPose :init))
  (send msg2 :px 1)
  (send msg2 :py 0)
  (send msg2 :pz 0)
  (send msg2 :rx 1)
  (send msg2 :ry 0)
  (send msg2 :rz 0)
  (send msg2 :rw 0.4)
  (send msg2 :id 1)
  (ros::ros-info "msg [~A]" (send msg2 :px))

  (setq msg (instance hrpsys_ros_bridge::BoxPoses :init))
  (send msg :poses (list msg1 msg2))
  (send msg :existence t)
  (ros::publish "/box_pose" msg)
  (ros::sleep))
(exit)
